<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-firestore.js"></script>
</head>
<body>
  <head>
    <title>Basic Info Screen</title>
  </head>
  <body>
    <p>Tell us about yourself!</p>

    <div id="infoQuestions">
      <input type="text" name="name" placeholder="Name(First and Last)" id="name">
      <input type="number" name="age" placeholder="Age" id="age">
      <input type="text" name="major" placeholder="Major" id="major">
      <input type="text" name="job" placeholder="Job Role" id="job">
      <input type="text" name="company" placeholder="Company" id="company">
      <input type="text" name="location" placeholder="Location" id="location">
      <input type="text" name="school" placeholder="School" id="school">
      <input type="text" name="hometown" placeholder="Hometown" id="hometown">
      <input type="text" name="bio" placeholder="Bio(optional)" id="bio">

      <button id="AddDatabtn">Tell us More!</button>
    </div>
  
<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyCSjvdOHnxGcritY9tWh_eeMwr3O4lkl5s",
    authDomain: "roommatchdb.firebaseapp.com",
    projectId: "roommatchdb",
    storageBucket: "roommatchdb.appspot.com",
    messagingSenderId: "118545415683",
    appId: "1:118545415683:web:da66f84fdf8e3c1e919836",
    measurementId: "G-HZP0HSX96R"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  var auth = firebase.auth();

  document.getElementById('AddDatabtn').addEventListener('click', addData)

  function addData(){
    var userUid = auth.currentUser.uid;
    var db = firebase.firestore();

    let name = document.getElementById('name').value
    let age = document.getElementById('age').value
    let major = document.getElementById('major').value
    let job = document.getElementById('job').value
    let company = document.getElementById('company').value
    let location = document.getElementById('location').value
    let school = document.getElementById('school').value
    let hometown = document.getElementById('hometown').value
    let bio = document.getElementById('bio').value

    let obj = {
      userUid: userUid,
      name: name,
      age: age,
      major: major,
      job: job,
      company: company,
      location: location,
      school: school,
      hometown: hometown,
      bio: bio
    }

    db.collection('usersInfo').add(obj).then(doc=>{
      console.log(doc.id)
    }).catch(e=>{
      console.log(e)
    })

  }
</script>


</body>
</html>